<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="collection_of_sql_statements">
    <select id="Searchlist_all" resultType="com.solponge.domain.product.productVo">
        SELECT * FROM PRODUCT WHERE product_title LIKE '%' || #{SearchValue} || '%' OR product_writer LIKE '%' || #{SearchValue} || '%'

    </select>
    <select id="Searchlist_product_title" resultType="com.solponge.domain.product.productVo">
        SELECT * FROM PRODUCT WHERE product_title LIKE '%' || #{SearchValue} || '%'
    </select>
    <select id="Searchlist_product_writer" resultType="com.solponge.domain.product.productVo">
        SELECT * FROM PRODUCT WHERE product_writer LIKE '%' || #{SearchValue} || '%'
    </select>
    <select id="list" resultType="com.solponge.domain.product.productVo">
        SELECT * FROM product
    </select>
    <select id="list_new_8" resultType="com.solponge.domain.product.productVo">
        <![CDATA[
        SELECT *
        FROM (
                 SELECT DISTINCT product_num, product_title, product_subtitle, product_writer, product_price, product_img, product_date
                 FROM product
                 ORDER BY product_date DESC
             )
        WHERE ROWNUM <= 8
        ]]>
    </select>
    <select id="list_popular_6" resultType="com.solponge.domain.product.productVo">
        <![CDATA[
        SELECT *
        FROM (
                 SELECT DISTINCT product_num, product_title, product_writer, product_img, PRODUCT_SALE
                 FROM product
                 ORDER BY PRODUCT_SALE DESC
             )
        WHERE ROWNUM <= 6
        ]]>
    </select>
    <select id="product" resultType="com.solponge.domain.product.productVo">
        select * from product where product_num=#{product_num}
    </select>
    <insert id="inserproduct" useGeneratedKeys="true" keyProperty="product_num" keyColumn="product_num">
        INSERT INTO product (product_num, product_title, product_subtitle, product_writer, product_price, product_img, product_date, product_stock)
        VALUES (product_SEQ.NEXTVAL, #{product_title},#{product_subtitle},#{product_writer},#{product_price},#{product_img}, TO_DATE(#{product_date}, 'YYYY-MM-DD'), #{product_stock});
    </insert>
    <delete id="deleteproduct">
        delete product where product_num=#{product_num}
    </delete>
    <update id="updateproduct">
        update product set product_title=#{product_title}, product_price=#{product_price}, product_stock=#{product_stock} where product_num=#{product_num}
    </update>
</mapper>